{% extends "layout.html" %} {% block content %}
<div class="container">
  <section class="dashboard">
    <h1 class="dashboard-title">Your dashboard</h1>
    <div class="dashboard-grid">
      <div class="dashboard-tables grid-section">
        <h2 class="grid-section-title">Your surveys</h2>
        <div class="grid-bar"></div>
        {% if not files %}
        <div class="no-graphs-container">
          <a href="{{ url_for('graphs.import_file') }}">
            <div class="empty add-survey">
              <p>You have no surveys.</p>
              <p>Click here to get started.</p>
              <i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i>
            </div>
          </a>
        </div>
        {% else %}
          {% for file in files %}
            <div class="dashboard-table" data-title='{{ file["title"] }}'>
              <a href="{{ url_for('graphs.table', survey_id=file['_id'] )}}">{{ file["title"] }}</a>
              <div class="edit-delete">
                <a href="{{ url_for('graphs.edit_survey', survey_id=file['_id'] )}}"><i class="edit-icon far fa-edit"></i></a>
                <form action="{{ url_for('graphs.delete_survey', survey_id=file['_id'] )}}" method="post" onsubmit="return confirm('Are you sure you want to delete this survey?');">
                  <button class="delete-icon" type="submit"><i class="fas fa-trash fa-lg"></i></button>
                </form>
              </div>
            </div>
          {% endfor %}
          <a class="add-more" href="{{ url_for('graphs.import_file') }}">
            <i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i>
          </a>

        {% endif %}
      </div>
      <div class="dashboard-graphs grid-section">
        <h2 class="grid-section-title">Your graphs</h2>
        <div class="grid-bar"></div>
        <div class="no-graphs-container">
          <a href="#">
            <div class="empty add-graph">
              <p>You have no graphs.</p>
              <p>Click here to get started.</p>
              <i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i>
            </div>
          </a>
        </div>
      </div>
      <div class="dashboard-stats grid-section">
        <h2 class="grid-section-title" >Your statastical tests</h2>
        <div class="grid-bar"></div>
        <div class="no-graphs-container">
          <a href="#">
            <div class="empty">
              <p>You have no statistical tests.</p>
              <p>Click here to get started.</p>
              <i class="fa fa-plus-circle fa-lg" aria-hidden="true"></i>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>
</div>
<!-- MODAL FOR CHOOSING SURVEY -->
<div class="overlay">
  <div class="choose-survey">
    {% if not files %}
    <div class="choose-survey-title">
      <i class="fa fa-times close" aria-hidden="true"></i>
      <p>You need to add a survey first!</p>
    </div>
    {% else %}
    <div class="choose-survey-title">
      <i class="fa fa-times close" aria-hidden="true"></i>
      <p>Which survey would you like to use?</p>
    </div>
    <div class="bar"></div>
      {% for file in files %}
        <a class="choose-survey-table" href="{{ url_for('graphs.choose_graph', survey_id=file['_id']) }}">{{ file["title"] }}</a>
      {% endfor %}
    {% endif %}
  </div>
</div>

{% endblock content %}
